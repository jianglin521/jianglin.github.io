<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用正则表达式 | 降临的文档库</title>
    <meta name="description" content="前端工程师 降临 的文档库">
    <link rel="icon" href="/img/logo.ico">
    
    <link rel="preload" href="/assets/css/0.styles.68be1f38.css" as="style"><link rel="preload" href="/assets/js/app.995752a5.js" as="script"><link rel="preload" href="/assets/js/20.bba3d085.js" as="script"><link rel="prefetch" href="/assets/js/10.7ba200ab.js"><link rel="prefetch" href="/assets/js/11.30774d50.js"><link rel="prefetch" href="/assets/js/12.a6154501.js"><link rel="prefetch" href="/assets/js/13.1842fe60.js"><link rel="prefetch" href="/assets/js/14.2274fafe.js"><link rel="prefetch" href="/assets/js/15.74b75367.js"><link rel="prefetch" href="/assets/js/16.306eb805.js"><link rel="prefetch" href="/assets/js/17.06ac4811.js"><link rel="prefetch" href="/assets/js/18.8e258bb9.js"><link rel="prefetch" href="/assets/js/19.d4e0ece7.js"><link rel="prefetch" href="/assets/js/2.7974f97d.js"><link rel="prefetch" href="/assets/js/21.7747c897.js"><link rel="prefetch" href="/assets/js/22.9fa1b8d9.js"><link rel="prefetch" href="/assets/js/23.4acae357.js"><link rel="prefetch" href="/assets/js/24.52051622.js"><link rel="prefetch" href="/assets/js/25.6590a986.js"><link rel="prefetch" href="/assets/js/26.6f2ad252.js"><link rel="prefetch" href="/assets/js/27.b3923955.js"><link rel="prefetch" href="/assets/js/28.c30abf97.js"><link rel="prefetch" href="/assets/js/29.576dd794.js"><link rel="prefetch" href="/assets/js/3.e4243c02.js"><link rel="prefetch" href="/assets/js/30.20a16a53.js"><link rel="prefetch" href="/assets/js/31.d4015c34.js"><link rel="prefetch" href="/assets/js/32.814252d0.js"><link rel="prefetch" href="/assets/js/33.0c2237e1.js"><link rel="prefetch" href="/assets/js/34.d5f7e75c.js"><link rel="prefetch" href="/assets/js/35.79227d4d.js"><link rel="prefetch" href="/assets/js/36.c7d54dd7.js"><link rel="prefetch" href="/assets/js/37.50f71524.js"><link rel="prefetch" href="/assets/js/38.c7422de1.js"><link rel="prefetch" href="/assets/js/39.6c0f42fa.js"><link rel="prefetch" href="/assets/js/4.86b8f79f.js"><link rel="prefetch" href="/assets/js/40.112b90d5.js"><link rel="prefetch" href="/assets/js/41.96b40c26.js"><link rel="prefetch" href="/assets/js/42.94a52bfe.js"><link rel="prefetch" href="/assets/js/43.0b25d56b.js"><link rel="prefetch" href="/assets/js/44.2187ba9b.js"><link rel="prefetch" href="/assets/js/45.25b00606.js"><link rel="prefetch" href="/assets/js/46.f8771e2f.js"><link rel="prefetch" href="/assets/js/47.ae635215.js"><link rel="prefetch" href="/assets/js/48.720d084c.js"><link rel="prefetch" href="/assets/js/49.f2c40a89.js"><link rel="prefetch" href="/assets/js/5.d5354611.js"><link rel="prefetch" href="/assets/js/50.5cfdc6c1.js"><link rel="prefetch" href="/assets/js/51.99387442.js"><link rel="prefetch" href="/assets/js/52.983ca453.js"><link rel="prefetch" href="/assets/js/53.71e73fd7.js"><link rel="prefetch" href="/assets/js/54.3b892224.js"><link rel="prefetch" href="/assets/js/55.fddd0f4c.js"><link rel="prefetch" href="/assets/js/56.5236f3cd.js"><link rel="prefetch" href="/assets/js/57.909ffd38.js"><link rel="prefetch" href="/assets/js/58.db40ae63.js"><link rel="prefetch" href="/assets/js/59.3cbfd9b2.js"><link rel="prefetch" href="/assets/js/6.430aa244.js"><link rel="prefetch" href="/assets/js/60.bfd31102.js"><link rel="prefetch" href="/assets/js/61.1388b55c.js"><link rel="prefetch" href="/assets/js/62.831c1253.js"><link rel="prefetch" href="/assets/js/63.e8b37825.js"><link rel="prefetch" href="/assets/js/64.fa443c2e.js"><link rel="prefetch" href="/assets/js/65.1ff70412.js"><link rel="prefetch" href="/assets/js/66.2fbd6604.js"><link rel="prefetch" href="/assets/js/67.ddd89037.js"><link rel="prefetch" href="/assets/js/7.92555542.js"><link rel="prefetch" href="/assets/js/8.55491de6.js"><link rel="prefetch" href="/assets/js/9.6ecf1618.js">
    <link rel="stylesheet" href="/assets/css/0.styles.68be1f38.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">降临的文档库</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/work/计划.html" class="nav-link">工作</a></div><div class="nav-item"><a href="/vue/vueCreate.html" class="nav-link">Vue</a></div><div class="nav-item"><a href="/js/es6.html" class="nav-link">js</a></div><div class="nav-item"><a href="/css/often.html" class="nav-link">css</a></div><div class="nav-item"><a href="/mobile/rem.html" class="nav-link">移动端</a></div><div class="nav-item"><a href="/tools/MongoDB.html" class="nav-link">工具</a></div><div class="nav-item"><a href="/other/修改Git提交记录.html" class="nav-link">文档</a></div><div class="nav-item"><a href="https://github.com/jianglin521" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/work/计划.html" class="nav-link">工作</a></div><div class="nav-item"><a href="/vue/vueCreate.html" class="nav-link">Vue</a></div><div class="nav-item"><a href="/js/es6.html" class="nav-link">js</a></div><div class="nav-item"><a href="/css/often.html" class="nav-link">css</a></div><div class="nav-item"><a href="/mobile/rem.html" class="nav-link">移动端</a></div><div class="nav-item"><a href="/tools/MongoDB.html" class="nav-link">工具</a></div><div class="nav-item"><a href="/other/修改Git提交记录.html" class="nav-link">文档</a></div><div class="nav-item"><a href="https://github.com/jianglin521" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/es6.html" class="sidebar-link">es6使用手册</a></li><li><a href="/js/async.html" class="sidebar-link">js异步</a></li><li><a href="/js/prototype.html" class="sidebar-link">原型与原型链</a></li><li><a href="/js/json.html" class="sidebar-link">json使用</a></li><li><a href="/js/regex.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/regex.html#常用正则表达式" class="sidebar-link">常用正则表达式</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#正则对金额处理" class="sidebar-link">正则对金额处理</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#手机号加密" class="sidebar-link">手机号加密</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#加密姓名" class="sidebar-link">加密姓名</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#邮箱加密" class="sidebar-link">邮箱加密</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#test-和-match-方法的异同" class="sidebar-link">.test()和.match()方法的异同</a></li><li class="sidebar-sub-header"><a href="/js/regex.html#正则表达式字符匹配攻略" class="sidebar-link">正则表达式字符匹配攻略</a></li></ul></li><li><a href="/js/operator.html" class="sidebar-link">js运算符</a></li><li><a href="/js/array.html" class="sidebar-link">数组</a></li><li><a href="/js/node.html" class="sidebar-link">node使用</a></li><li><a href="/js/npm.html" class="sidebar-link">npm使用</a></li><li><a href="/js/typescript.html" class="sidebar-link">typescript</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="常用正则表达式"><a href="#常用正则表达式" aria-hidden="true" class="header-anchor">#</a> 常用正则表达式</h2> <p><strong>验证身份证</strong> /^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/</p> <p><strong>验证税号</strong> /^[A-Z0-9]{15}$|^[A-Z0-9]{17}$|^[A-Z0-9]{18}$|^[A-Z0-9]{20}$/</p> <p><strong>验证手机号</strong> /^1[3-9]\d{9}$/</p> <p><strong>验证加密手机号</strong> /^1[3-9]\d{1}[\d*]{4}\d{4}$/</p> <p><strong>验证中文</strong> /^[\u4E00-\u9FA5]+$/</p> <p><strong>验证中文和括号</strong> /^[\u4E00-\u9FA5 || &quot;/,(,),\（,\）&quot;]+$/</p> <p><strong>匹配正整数</strong>  /^[1-9]\d*$ /</p> <p><strong>匹配负整数</strong>  /^-[1-9]\d*$ /</p> <p><strong>匹配整数</strong> /^-?[1-9]\d*$/</p> <p><strong>匹配非负整数（正整数 + 0）</strong> /^[1-9]\d*|0$ /</p> <p><strong>匹配非正整数（负整数 + 0）</strong> /^-[1-9]\d*|0$/</p> <p><strong>匹配正浮点数</strong> /^[1-9]\d*.\d*|0.\d*[1-9]\d*$/</p> <p><strong>匹配负浮点数</strong> /^-([1-9]\d*.\d*|0.\d*[1-9]\d*)$ /</p> <p><strong>匹配浮点数</strong> /^-?([1-9]\d*.\d*|0.\d*[1-9]\d*|0?.0+|0)$/</p> <p><strong>匹配非负浮点数（正浮点数 + 0）</strong> /^[1-9]\d*.\d*|0.\d*[1-9]\d*|0?.0+|0$/</p> <p><strong>匹配非正浮点数（负浮点数 + 0）</strong> /^(-([1-9]\d*.\d*|0.\d*[1-9]\d*))|0?.0+|0$/</p> <h2 id="正则对金额处理"><a href="#正则对金额处理" aria-hidden="true" class="header-anchor">#</a> 正则对金额处理</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">strFilter</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex">/\d{1,3}(?=(\d{3})+$)/g</span>
  <span class="token keyword">let</span> n1 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^(\d+)((\.\d+)?)$/</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> s1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">'$&amp;,'</span><span class="token punctuation">)</span> <span class="token operator">+</span> s2 <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> n1
<span class="token punctuation">}</span>
</code></pre></div><h2 id="手机号加密"><a href="#手机号加密" aria-hidden="true" class="header-anchor">#</a> 手机号加密</h2> <h3 id="方法一"><a href="#方法一" aria-hidden="true" class="header-anchor">#</a> 方法一</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 字符串截取</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">regMobile</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>mobile<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> new_mobile <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mobile<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">****</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mobile<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> new_mobile
<span class="token punctuation">}</span>
</code></pre></div><h3 id="方法二"><a href="#方法二" aria-hidden="true" class="header-anchor">#</a> 方法二</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用正则</span>
<span class="token keyword">const</span> phone <span class="token operator">=</span> <span class="token string">'13701134148'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> resultPhone <span class="token operator">=</span> phone<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^(\d{3})\d{4}(\d+)/</span><span class="token punctuation">,</span> <span class="token string">'$1****$2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resultPhone<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 137****4148</span>
</code></pre></div><h2 id="加密姓名"><a href="#加密姓名" aria-hidden="true" class="header-anchor">#</a> 加密姓名</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'王小明'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/(?&lt;=.)./g</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 王**</span>
</code></pre></div><h2 id="邮箱加密"><a href="#邮箱加密" aria-hidden="true" class="header-anchor">#</a> 邮箱加密</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 替换邮箱字符</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">regEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> email<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> _s <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _s <span class="token operator">+=</span> <span class="token string">'*'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> new_email <span class="token operator">=</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> _s <span class="token operator">+</span> <span class="token string">'@'</span> <span class="token operator">+</span> str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> new_email
<span class="token punctuation">}</span>
</code></pre></div><h2 id="test-和-match-方法的异同"><a href="#test-和-match-方法的异同" aria-hidden="true" class="header-anchor">#</a> .test()和.match()方法的异同</h2> <p>test() 方法用于检测一个字符串是否匹配某个模式.</p> <p>match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。</p> <p>test和match都是字符串的方法，都可以用来判断是否匹配正则表达式。</p> <p><strong>不同的是</strong>：</p> <p>test方法返回的是布尔值true 和false</p> <p>match方法返回的是字符串</p> <p><strong>使用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// test()</span>
<span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/hello/</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// match()</span>
<span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/ab{2,5}c/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc abbc abbbc abbbbc abbbbbc abbbbbbc&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="正则表达式字符匹配攻略"><a href="#正则表达式字符匹配攻略" aria-hidden="true" class="header-anchor">#</a> 正则表达式字符匹配攻略</h2> <h3 id="_1-两种模糊匹配"><a href="#_1-两种模糊匹配" aria-hidden="true" class="header-anchor">#</a> 1 两种模糊匹配</h3> <h4 id="_1-1-横向模糊匹配"><a href="#_1-1-横向模糊匹配" aria-hidden="true" class="header-anchor">#</a> 1.1 横向模糊匹配</h4> <p>横向模糊指的是，一个正则可匹配的字符串的长度不是固定的，可以是多种情况的。</p> <p>其实现的方式是使用量词。譬如{m,n}，表示连续出现最少m次，最多n次。</p> <p>比如<code>/ab{2,5}c/</code>表示匹配这样一个字符串：第一个字符是“a”，接下来是2到5个字符“b”，最后是字符“c”。测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/ab{2,5}c/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc abbc abbbc abbbbc abbbbbc abbbbbbc&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// =&gt; [&quot;abbc&quot;, &quot;abbbc&quot;, &quot;abbbbc&quot;, &quot;abbbbbc&quot;]</span>
</code></pre></div><p><strong>注意</strong>：案例中用的正则是<code>/ab{2,5}c/g</code>，后面多了g，它是正则的一个修饰符。表示全局匹配，即在目标字符串中按顺序找到满足匹配模式的所有子串，强调的是“所有”，而不只是“第一个”。g是单词global的首字母。</p> <h4 id="_1-2-纵向模糊匹配"><a href="#_1-2-纵向模糊匹配" aria-hidden="true" class="header-anchor">#</a> 1.2 纵向模糊匹配</h4> <p>纵向模糊指的是，一个正则匹配的字符串，具体到某一位字符时，它可以不是某个确定的字符，可以有多种可能。</p> <p>其实现的方式是使用字符组。譬如<code>[abc]</code>，表示该字符是可以字符“a”、“b”、“c”中的任何一个。</p> <p>比如<code>/a[123]b/</code>可以匹配如下三种字符串：&quot;a1b&quot;、&quot;a2b&quot;、&quot;a3b&quot;。测试如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/a[123]b/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;a0b a1b a2b a3b a4b&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// =&gt; [&quot;a1b&quot;, &quot;a2b&quot;, &quot;a3b&quot;]</span>
</code></pre></div><h3 id="_2-字符组"><a href="#_2-字符组" aria-hidden="true" class="header-anchor">#</a> 2. 字符组</h3> <h4 id="_2-1-范围表示法"><a href="#_2-1-范围表示法" aria-hidden="true" class="header-anchor">#</a> 2.1 范围表示法</h4> <p>如果字符组里的字符特别多的话，怎么办？可以使用范围表示法。</p> <p>比如<code>[123456abcdefGHIJKLM]</code>，可以写成<code>[1-6a-fG-M]</code>。用连字符-来省略和简写。</p> <p>因为连字符有特殊用途，那么要匹配“a”、“-”、“z”这三者中任意一个字符，该怎么做呢？</p> <p>不能写成<code>[a-z]</code>，因为其表示小写字符中的任何一个字符。</p> <p>可以写成如下的方式：<code>[-az]或[az-]或[a\-z]</code>。即要么放在开头，要么放在结尾，要么转义。总之不会让引擎认为是范围表示法就行了。</p> <h4 id="_2-2-排除字符组"><a href="#_2-2-排除字符组" aria-hidden="true" class="header-anchor">#</a> 2.2 排除字符组</h4> <p>纵向模糊匹配，还有一种情形就是，某位字符可以是任何东西，但就不能是&quot;a&quot;、&quot;b&quot;、&quot;c&quot;。</p> <p>此时就是排除字符组（反义字符组）的概念。例如<code>[^abc]</code>，表示是一个除&quot;a&quot;、&quot;b&quot;、&quot;c&quot;之外的任意一个字符。字符组的第一位放<code>^</code>（脱字符），表示求反的概念。</p> <p>当然，也有相应的范围表示法。</p> <h4 id="_2-3-常见的简写形式"><a href="#_2-3-常见的简写形式" aria-hidden="true" class="header-anchor">#</a> 2.3 常见的简写形式</h4> <p>有了字符组的概念后，一些常见的符号我们也就理解了。因为它们都是系统自带的简写形式。</p> <p><code>\d</code>是<code>[0-9]</code>。表示是一位数字。记忆方式：其英文是digit（数字）。</p> <p><code>\D</code>是<code>[^0-9]</code>。表示除数字外的任意字符。</p> <p><code>\w</code>是<code>[0-9a-zA-Z_]</code>。表示数字、大小写字母和下划线。记忆方式：w是word的简写，也称单词字符。</p> <p><code>\W</code>是<code>[^0-9a-zA-Z_]</code>。非单词字符。</p> <p><code>\s</code>是<code>[ \t\v\n\r\f]</code>。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。记忆方式：s是space character的首字母。</p> <p><code>\S</code>是<code>[^ \t\v\n\r\f]</code>。 非空白符。</p> <p><code>.</code>是<code>[^\n\r\u2028\u2029]</code>。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。记忆方式：想想省略号...中的每个点，都可以理解成占位符，表示任何类似的东西。</p> <p>如果要匹配任意字符怎么办？可以使用<code>[\d\D]、[\w\W]、[\s\S]和[^]</code>中任何的一个。</p> <h3 id="_3-量词"><a href="#_3-量词" aria-hidden="true" class="header-anchor">#</a> 3. 量词</h3> <p>量词也称重复。掌握{m,n}的准确含义后，只需要记住一些简写形式。</p> <h4 id="_3-1-简写形式"><a href="#_3-1-简写形式" aria-hidden="true" class="header-anchor">#</a> 3.1 简写形式</h4> <p><code>{m,}</code> 表示至少出现m次。</p> <p><code>{m}</code> 等价于<code>{m,m}</code>，表示出现m次。</p> <p><code>?</code> 等价于<code>{0,1}</code>，表示出现或者不出现。记忆方式：问号的意思表示，有吗？</p> <p><code>+</code> 等价于<code>{1,}</code>，表示出现至少一次。记忆方式：加号是追加的意思，得先有一个，然后才考虑追加。</p> <p><code>*</code> 等价于<code>{0,}</code>，表示出现任意次，有可能不出现。记忆方式：看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来。</p> <h4 id="_3-2-贪婪匹配和惰性匹配"><a href="#_3-2-贪婪匹配和惰性匹配" aria-hidden="true" class="header-anchor">#</a> 3.2 贪婪匹配和惰性匹配</h4> <p>看如下的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/\d{2,5}/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// =&gt; [&quot;123&quot;, &quot;1234&quot;, &quot;12345&quot;, &quot;12345&quot;]</span>
</code></pre></div><p>其中正则<code>/\d{2,5}/</code>，表示数字连续出现2到5次。会匹配2位、3位、4位、5位连续数字。</p> <p>但是其是贪婪的，它会尽可能多的匹配。你能给我6个，我就要5个。你能给我3个，我就3要个。反正只要在能力范围内，越多越好。</p> <p>我们知道有时贪婪不是一件好事（请看文章最后一个例子）。而惰性匹配，就是尽可能少的匹配：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/\d{2,5}?/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// =&gt; [&quot;12&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;56&quot;]</span>
</code></pre></div><p>其中<code>/\d{2,5}?/</code>表示，虽然2到5次都行，当2个就够的时候，就不在往下尝试了。</p> <p>通过在量词后面加个问号就能实现惰性匹配，因此所有惰性匹配情形如下：</p> <p><code>{m,n}?</code></p> <p><code>{m,}?</code></p> <p><code>??</code></p> <p><code>+?</code></p> <p><code>*?</code></p> <p>对惰性匹配的记忆方式是：量词后面加个问号，问一问你知足了吗，你很贪婪吗？</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2020-7-24 14:05:58</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/js/json.html" class="prev">
          json使用
        </a></span> <span class="next"><a href="/js/operator.html">
          js运算符
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.995752a5.js" defer></script><script src="/assets/js/20.bba3d085.js" defer></script>
  </body>
</html>
